(function(){var e;e=function(){function e(){this.init_events()}return e.prototype.minimum_length=3,e.prototype.results=$("#search-content"),e.prototype.form=$(".docs aside form"),e.prototype.init_events=function(){var e=this;return this.form.on("submit",function(){return e.perform_search(e.form.find("input").val()),!1}),this.results.on("click","a",function(){return expandTreeWithPath($(this).attr("href"))}),this.form.find("input").keydown(function(t){var n,r,i,s;r=t.keyCode,i=e.results.find("li");if(!e.results.is(":visible"))return;if(r!==40&&r!==38&&r!==13)return;t.preventDefault(),s=i.filter(".selected"),n=void 0,i.removeClass("selected"),r===13&&s.length?expandTreeWithPath(s.find("a").attr("href")):r===40?!s.length||s.is(":last-child")?n=i.eq(0):n=s.next():r===38&&(!s.length||s.is(":first-child")?n=i.last():n=s.prev());if(r===40||r===38)return n.addClass("selected")})},e.prototype.perform_search=function(e){var t=this;return e=$.trim(e.toLowerCase()),e.length>=this.minimum_length?(this.results.html("<li><span>Loading...</span></li>"),$.ajax({url:"https://api.swiftype.com/api/v1/public/engines/suggest.json",data:{q:e,engine_key:"9ss2uGXz9XP6kyd6y6CN"},dataType:"jsonp"}).done(function(e){var n,r,i,s,o,u,a;if(e.record_count<1)return t.results.html("<li><span>No results found. Please refine your search.</span></li>");t.results.html(""),u=e.records.page,a=[];for(s=0,o=u.length;s<o;s++)n=u[s],r=n.highlight.title?n.highlight.title:""+n.title+"<small>"+n.highlight.sections+"</small>",i=n.url.replace(window.location.origin,""),a.push(t.results.append("<li><a href='"+n.url+"'>"+r+"</a></li>"));return a})):this.results.html("<li><span>Should be "+this.minimum_length+" characters or more.</span></li>"),$(":not(#search-content)").one("click",function(){return t.results.fadeOut()}),this.results.fadeIn()},e}(),$(function(){return new e})}).call(this);